# ü§ñ AI –ß–∞—Ç —Å Vercel AI SDK

## ‚ú® –ß—Ç–æ –Ω–æ–≤–æ–≥–æ?

–ú—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å–∞–ª–∏ AI —á–∞—Ç –∏—Å–ø–æ–ª—å–∑—É—è **Vercel AI SDK** - –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è AI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏:

| –°—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è | –ù–æ–≤–∞—è –≤–µ—Ä—Å–∏—è (Vercel AI SDK) |
|---------------|------------------------------|
| ‚ùå –ü—Ä–æ—Å—Ç–æ–π POST –∑–∞–ø—Ä–æ—Å | ‚úÖ Streaming –æ—Ç–≤–µ—Ç–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ |
| ‚ùå –ñ–¥–∞—Ç—å –ø–æ–ª–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ | ‚úÖ –¢–µ–∫—Å—Ç –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø–æ –º–µ—Ä–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ |
| ‚ùå –ù–µ—Ç –∏—Å—Ç–æ—Ä–∏–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ | ‚úÖ –ü–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π |
| ‚ùå –ù–µ—Ç stop/regenerate | ‚úÖ –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ |
| ‚ùå –ë–∞–∑–æ–≤—ã–π UI | ‚úÖ –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π UI |
| ‚ùå –ù–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–∞–Ω–Ω—ã—Ö | ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏–∑ –ë–î |

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### Backend (API Route)

**–§–∞–π–ª:** `app/api/chat/route.ts`

```typescript
import { openai } from "@ai-sdk/openai";
import { streamText } from "ai";

export async function POST(req: Request) {
  const { messages } = await req.json();
  
  // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏–∑ Supabase
  const context = await loadUserFinancialContext();
  
  const result = streamText({
    model: openai("gpt-4o-mini"),
    system: "–¢—ã —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–π –ø–æ–º–æ—â–Ω–∏–∫..." + context,
    messages: convertToModelMessages(messages),
  });
  
  return result.toUIMessageStreamResponse(); // Streaming!
}
```

**–§–∏—á–∏:**
- ‚úÖ **Streaming** - –æ—Ç–≤–µ—Ç –∏–¥—ë—Ç –ø–æ —á–∞—Å—Ç—è–º
- ‚úÖ **–ö–æ–Ω—Ç–µ–∫—Å—Ç** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, —Å—á–µ—Ç–∞, –±—é–¥–∂–µ—Ç—ã
- ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ Supabase Auth

### Frontend (React Component)

**–§–∞–π–ª:** `app/(protected)/ai-chat/Chat.tsx`

```typescript
import { useChat } from "@ai-sdk/react";

const { messages, sendMessage, status, stop } = useChat({
  transport: new DefaultChatTransport({ api: "/api/chat" }),
});
```

**–§–∏—á–∏:**
- ‚úÖ **useChat hook** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
- ‚úÖ **Streaming UI** - —Ç–µ–∫—Å—Ç –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø–ª–∞–≤–Ω–æ
- ‚úÖ **Status** - submitted ‚Üí streaming ‚Üí ready
- ‚úÖ **Stop** - –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- ‚úÖ **Auto-scroll** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞

---

## üìä –ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è AI

–ß–∞—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–¥–∞—ë—Ç AI –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

### 1. –°—á–µ—Ç–∞
```
### –°—á–µ—Ç–∞:
- –û—Å–Ω–æ–≤–Ω–æ–π: 25000.00 RUB
- –°–±–µ—Ä–µ–∂–µ–Ω–∏—è: 150000.00 RUB
```

### 2. –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
```
### –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏:
- 11.10.2025: -1500.00 —Ä—É–±. - –ü—è—Ç—ë—Ä–æ—á–∫–∞
- 10.10.2025: +50000.00 —Ä—É–±. - –ó–∞—Ä–ø–ª–∞—Ç–∞
```

### 3. –ë—é–¥–∂–µ—Ç—ã
```
### –ë—é–¥–∂–µ—Ç—ã:
- –ü—Ä–æ–¥—É–∫—Ç—ã: 12000.00 / 15000.00 —Ä—É–±. (80%)
- –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç: 3000.00 / 5000.00 —Ä—É–±. (60%)
```

–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç AI –¥–∞–≤–∞—Ç—å **—Ç–æ—á–Ω—ã–µ –∏ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã**!

---

## üí¨ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:
> –ö–∞–∫–æ–π —É –º–µ–Ω—è –±–∞–ª–∞–Ω—Å?

### AI:
> üí∞ –í–∞—à —Ç–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å:
> 
> - **–û—Å–Ω–æ–≤–Ω–æ–π —Å—á—ë—Ç**: 25,000 ‚ÇΩ
> - **–°–±–µ—Ä–µ–∂–µ–Ω–∏—è**: 150,000 ‚ÇΩ
> 
> **–ò—Ç–æ–≥–æ**: 175,000 ‚ÇΩ üìä

---

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:
> –ù–∞ —á—Ç–æ —è –±–æ–ª—å—à–µ —Ç—Ä–∞—á—É?

### AI:
> üìä –í–∞—à —Ç–æ–ø –∫–∞—Ç–µ–≥–æ—Ä–∏–π –ø–æ —Ä–∞—Å—Ö–æ–¥–∞–º –≤ —ç—Ç–æ–º –º–µ—Å—è—Ü–µ:
> 
> 1. **–ü—Ä–æ–¥—É–∫—Ç—ã** - 12,000 ‚ÇΩ (40%)
> 2. **–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç** - 3,000 ‚ÇΩ (10%)
> 3. **–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è** - 2,500 ‚ÇΩ (8%)
> 
> üí° –°–æ–≤–µ—Ç: –ë—é–¥–∂–µ—Ç –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç—ã —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç 80% –æ—Ç –ª–∏–º–∏—Ç–∞. –†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø–æ–∫—É–ø–æ–∫.

---

## üé® UI Features

### Welcome Screen
- –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
- –ë—ã—Å—Ç—Ä—ã–µ –≤–æ–ø—Ä–æ—Å—ã (Quick Questions)
- –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### Chat Messages
- **User messages**: –≥—Ä–∞–¥–∏–µ–Ω—Ç (—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π)
- **AI messages**: –±–µ–ª—ã–π —Ñ–æ–Ω
- **Avatars**: üë§ / ü§ñ
- **Typing indicator**: –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–æ—á–∫–∏

### Input Form
- Auto-focus
- Disable –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
- Send button —Å –∏–∫–æ–Ω–∫–æ–π
- Stop button –ø—Ä–∏ streaming

### Responsive Design
- Mobile-friendly
- Adaptive message width
- Touch-friendly buttons

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### OpenAI Model
```typescript
model: openai("gpt-4o-mini")
```

–ú–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞:
- `gpt-4o` - –±–æ–ª–µ–µ —É–º–Ω–∞—è –º–æ–¥–µ–ª—å
- `gpt-3.5-turbo` - –±—ã—Å—Ç—Ä–µ–µ –∏ –¥–µ—à–µ–≤–ª–µ

### Temperature & Tokens
```typescript
temperature: 0.7,  // –ö—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç—å (0-2)
maxTokens: 1000,   // –ú–∞–∫—Å –¥–ª–∏–Ω–∞ –æ—Ç–≤–µ—Ç–∞
```

### System Prompt
–°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ä–æ–ª—å –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ AI. –ú–æ–∂–Ω–æ –∫–∞—Å—Ç–æ–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥ —Å–≤–æ–∏ –Ω—É–∂–¥—ã!

---

## üöÄ –î–µ–ø–ª–æ–π

### Vercel Environment Variables

–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤ Vercel –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è:
```
OPENAI_API_KEY=sk-...
```

### Build
```bash
npm run build
```

### Deploy
```bash
git push origin main
```

Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç!

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### Authentication
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ `auth.getUser()` –≤ API route
- ‚úÖ –î–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –∫ —Å–≤–æ–∏–º –¥–∞–Ω–Ω—ã–º (RLS)
- ‚úÖ –ù–µ—Ç —É—Ç–µ—á–∫–∏ –¥–∞–Ω–Ω—ã—Ö –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### API Key
- ‚úÖ –ö–ª—é—á —Ç–æ–ª—å–∫–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- ‚úÖ –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –∫–ª–∏–µ–Ω—Ç—É
- ‚úÖ –•—Ä–∞–Ω–∏—Ç—Å—è –≤ environment variables

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Vercel AI SDK Docs](https://ai-sdk.dev)
- [useChat API Reference](https://ai-sdk.dev/docs/ai-sdk-ui/chatbot)
- [Streaming Guide](https://ai-sdk.dev/docs/ai-sdk-core/streaming)
- [OpenAI Models](https://platform.openai.com/docs/models)

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π AI —á–∞—Ç —Å:
- Streaming –æ—Ç–≤–µ—Ç–∞–º–∏
- –ö–æ–Ω—Ç–µ–∫—Å—Ç–æ–º —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º UI
- –ü–æ–ª–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π —Å Vercel AI SDK

**–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–µ–π—á–∞—Å:** https://finappka.vercel.app/ai-chat üöÄ

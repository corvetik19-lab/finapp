# –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö —ç—Ç–∞–ø–æ–≤ —Ç–µ–Ω–¥–µ—Ä–æ–≤

**–î–∞—Ç–∞:** 14.11.2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

## –ü—Ä–æ–±–ª–µ–º–∞

–ù–µ–∞–∫—Ç–∏–≤–Ω—ã–µ —ç—Ç–∞–ø—ã (`is_active = false`) –ø—Ä–æ–¥–æ–ª–∂–∞–ª–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤ –∫–∞–Ω–±–∞–Ω-–¥–æ—Å–∫–µ —Ç–µ–Ω–¥–µ—Ä–æ–≤, —Ö–æ—Ç—è –¥–æ–ª–∂–Ω—ã –±—ã–ª–∏ –±—ã—Ç—å —Å–∫—Ä—ã—Ç—ã.

## –†–µ—à–µ–Ω–∏–µ

–î–æ–±–∞–≤–ª–µ–Ω —Ñ–∏–ª—å—Ç—Ä `.eq('is_active', true)` –≤ —Ñ—É–Ω–∫—Ü–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏ —ç—Ç–∞–ø–æ–≤.

### –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

**–§–∞–π–ª:** `lib/tenders/service.ts`

#### 1. getTenderStages (—Å—Ç—Ä–æ–∫–∞ 301)

```typescript
// –ë—ã–ª–æ:
let query = supabase
  .from('tender_stages')
  .select('*')
  .order('category')
  .order('order_index');

// –°—Ç–∞–ª–æ:
let query = supabase
  .from('tender_stages')
  .select('*')
  .eq('is_active', true)  // ‚Üê –î–æ–±–∞–≤–ª–µ–Ω —Ñ–∏–ª—å—Ç—Ä
  .order('category')
  .order('order_index');
```

#### 2. getTendersByStage (—Å—Ç—Ä–æ–∫–∞ 441)

```typescript
// –ë—ã–ª–æ:
const { data: stages, error: stagesError } = await supabase
  .from('tender_stages')
  .select('*')
  .eq('category', category)
  .or(`company_id.is.null,company_id.eq.${companyId}`)
  .order('order_index');

// –°—Ç–∞–ª–æ:
const { data: stages, error: stagesError } = await supabase
  .from('tender_stages')
  .select('*')
  .eq('category', category)
  .eq('is_active', true)  // ‚Üê –î–æ–±–∞–≤–ª–µ–Ω —Ñ–∏–ª—å—Ç—Ä
  .or(`company_id.is.null,company_id.eq.${companyId}`)
  .order('order_index');
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç

‚úÖ **–ù–µ–∞–∫—Ç–∏–≤–Ω—ã–µ —ç—Ç–∞–ø—ã —Ç–µ–ø–µ—Ä—å —Å–∫—Ä—ã—Ç—ã:**
- –í –∫–∞–Ω–±–∞–Ω-–¥–æ—Å–∫–µ —Ç–µ–Ω–¥–µ—Ä–Ω–æ–≥–æ –æ—Ç–¥–µ–ª–∞
- –í –∫–∞–Ω–±–∞–Ω-–¥–æ—Å–∫–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- –í —Å–ø–∏—Å–∫–∞—Ö —ç—Ç–∞–ø–æ–≤ –¥–ª—è –≤—ã–±–æ—Ä–∞

‚úÖ **–ê–∫—Ç–∏–≤–Ω—ã–µ —ç—Ç–∞–ø—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–æ—Ä–º–∞–ª—å–Ω–æ:**
- –í—Å–µ —ç—Ç–∞–ø—ã —Å `is_active = true` –≤–∏–¥–Ω—ã
- –ü–æ—Ä—è–¥–æ–∫ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ —Å–æ—Ö—Ä–∞–Ω—ë–Ω

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –°–∫—Ä—ã—Ç—å —ç—Ç–∞–ø –∏–∑ –∫–∞–Ω–±–∞–Ω–∞

1. –ü–µ—Ä–µ–π—Ç–∏ –≤ `/tenders/settings`
2. –û—Ç–∫—Ä—ã—Ç—å –≤–∫–ª–∞–¥–∫—É "–≠—Ç–∞–ø—ã"
3. –ù–∞–∂–∞—Ç—å ‚úèÔ∏è –Ω–∞ –Ω—É–∂–Ω–æ–º —ç—Ç–∞–ø–µ
4. –°–Ω—è—Ç—å –≥–∞–ª–æ—á–∫—É "–≠—Ç–∞–ø –∞–∫—Ç–∏–≤–µ–Ω"
5. –ù–∞–∂–∞—Ç—å "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –≠—Ç–∞–ø –∏—Å—á–µ–∑–Ω–µ—Ç –∏–∑ –∫–∞–Ω–±–∞–Ω-–¥–æ—Å–∫–∏, –Ω–æ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö.

### –í–µ—Ä–Ω—É—Ç—å —ç—Ç–∞–ø –≤ –∫–∞–Ω–±–∞–Ω

1. –ü–µ—Ä–µ–π—Ç–∏ –≤ `/tenders/settings`
2. –û—Ç–∫—Ä—ã—Ç—å –≤–∫–ª–∞–¥–∫—É "–≠—Ç–∞–ø—ã"
3. –ù–∞–∂–∞—Ç—å ‚úèÔ∏è –Ω–∞ –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ–º —ç—Ç–∞–ø–µ (–ø–æ–∫–∞–∑–∞–Ω –∫–∞–∫ "‚úó –ù–µ–∞–∫—Ç–∏–≤–µ–Ω")
4. –ü–æ—Å—Ç–∞–≤–∏—Ç—å –≥–∞–ª–æ—á–∫—É "–≠—Ç–∞–ø –∞–∫—Ç–∏–≤–µ–Ω"
5. –ù–∞–∂–∞—Ç—å "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –≠—Ç–∞–ø —Å–Ω–æ–≤–∞ –ø–æ—è–≤–∏—Ç—Å—è –≤ –∫–∞–Ω–±–∞–Ω-–¥–æ—Å–∫–µ.

## –ì–¥–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Ñ–∏–ª—å—Ç—Ä

- ‚úÖ –ö–∞–Ω–±–∞–Ω-–¥–æ—Å–∫–∞ —Ç–µ–Ω–¥–µ—Ä–Ω–æ–≥–æ –æ—Ç–¥–µ–ª–∞ (`/tenders/department`)
- ‚úÖ –ö–∞–Ω–±–∞–Ω-–¥–æ—Å–∫–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (`/tenders/realization`)
- ‚úÖ –°–ø–∏—Å–∫–∏ —ç—Ç–∞–ø–æ–≤ –≤ —Ñ–æ—Ä–º–∞—Ö
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —ç—Ç–∞–ø–∞–º

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –ù–µ–∞–∫—Ç–∏–≤–Ω—ã–µ —ç—Ç–∞–ø—ã **–Ω–µ —É–¥–∞–ª—è—é—Ç—Å—è** –∏–∑ –ë–î
- –¢–µ–Ω–¥–µ—Ä—ã –Ω–∞ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö —ç—Ç–∞–ø–∞—Ö **–æ—Å—Ç–∞—é—Ç—Å—è** –Ω–∞ —Å–≤–æ–∏—Ö —ç—Ç–∞–ø–∞—Ö
- –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –≤–∏–¥–Ω—ã **–≤—Å–µ** —ç—Ç–∞–ø—ã (–∞–∫—Ç–∏–≤–Ω—ã–µ –∏ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–µ)
- –§–∏–ª—å—Ç—Ä –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏ –≤ UI

**–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üéâ

# ü§ñ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ AI —Ñ—É–Ω–∫—Ü–∏—è–º FinApp

## –û–±–∑–æ—Ä

FinApp –∏–º–µ–µ—Ç —Ç—Ä–∏ –æ—Å–Ω–æ–≤–Ω—ã—Ö AI —Ñ—É–Ω–∫—Ü–∏–∏:
1. **AI –ß–∞—Ç** - –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ —Å Function Calling
2. **AI –°–æ–≤–µ—Ç–Ω–∏–∫** - –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑
3. **AI –ê–Ω–∞–ª–∏—Ç–∏–∫–∞** - –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∞–Ω–æ–º–∞–ª–∏–π

---

## 1Ô∏è‚É£ AI –ß–∞—Ç (AI Chat)

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí –°–æ–æ–±—â–µ–Ω–∏–µ ‚Üí API /api/ai/chat ‚Üí OpenAI GPT-4o-mini
                                ‚Üì
                        –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ intent
                                ‚Üì
                    –í—ã–∑–æ–≤ Tool Handler (Function Calling)
                                ‚Üì
                    –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (Supabase)
                                ‚Üì
                    –í–æ–∑–≤—Ä–∞—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
```

### –ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç—ã

1. **–û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è**
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–∏—à–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç–µ
   - –°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ `/api/ai/chat`

2. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥–æ–π**
   - –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è `/api/chat/execute-command`
   - –ï—Å–ª–∏ —ç—Ç–æ –∏–∑–≤–µ—Å—Ç–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ (–¥–æ–±–∞–≤–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é, –ø–æ–∫–∞–∑–∞—Ç—å –±–∞–ª–∞–Ω—Å –∏ —Ç.–¥.) - –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é
   - –ï—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–∞ - –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ OpenAI

3. **OpenAI Function Calling**
   - GPT-4o-mini –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ
   - –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–∞–∫–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
   - –í—ã–∑—ã–≤–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π Tool Handler

4. **Tool Handlers** (`lib/ai/tool-handlers.ts`)
   - `handleAIAddTransaction` - –¥–æ–±–∞–≤–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
   - `handleAIGetTransactions` - –ø–æ–ª—É—á–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
   - `handleAIGetBalance` - –ø–æ–∫–∞–∑–∞—Ç—å –±–∞–ª–∞–Ω—Å
   - `handleAICreateCategory` - —Å–æ–∑–¥–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é
   - `handleAISetBudget` - —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±—é–¥–∂–µ—Ç
   - –ò –µ—â—ë 30+ –¥—Ä—É–≥–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π

5. **–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤ Supabase**
   - Tool Handler –≤—ã–ø–æ–ª–Ω—è–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—é –≤ –ë–î
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `createAdminClient()` –¥–ª—è –æ–±—Ö–æ–¥–∞ RLS
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ OpenAI

6. **–û—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é**
   - OpenAI —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç –Ω–∞ —Ä—É—Å—Å–∫–æ–º
   - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø–æ—Ç–æ–∫–æ–º (streaming) –Ω–∞ –∫–ª–∏–µ–Ω—Ç
   - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ —á–∞—Ç–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

### –ú–æ–¥–µ–ª–∏

- **–û—Å–Ω–æ–≤–Ω–∞—è –º–æ–¥–µ–ª—å:** `gpt-4o-mini` (–±—ã—Å—Ç—Ä–∞—è –∏ —ç–∫–æ–Ω–æ–º–∏—á–Ω–∞—è)
- **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã:** `gpt-4o`, `gpt-5`, `o1-mini` –∏ –µ—â—ë 40+ –º–æ–¥–µ–ª–µ–π

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (44 —Ñ—É–Ω–∫—Ü–∏–∏)

**–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏:**
- –î–æ–±–∞–≤–∏—Ç—å/—É–¥–∞–ª–∏—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
- –ü–æ–ª—É—á–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- –ü–æ–∏—Å–∫ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º

**–°—á–µ—Ç–∞:**
- –°–æ–∑–¥–∞—Ç—å/—É–¥–∞–ª–∏—Ç—å —Å—á—ë—Ç
- –ü–æ–∫–∞–∑–∞—Ç—å –±–∞–ª–∞–Ω—Å
- –ü–µ—Ä–µ–≤–æ–¥—ã –º–µ–∂–¥—É —Å—á–µ—Ç–∞–º–∏

**–ö–∞—Ç–µ–≥–æ—Ä–∏–∏:**
- –°–æ–∑–¥–∞—Ç—å/—É–¥–∞–ª–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é
- –°–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π

**–ë—é–¥–∂–µ—Ç—ã:**
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±—é–¥–∂–µ—Ç
- –ü–æ–∫–∞–∑–∞—Ç—å –±—é–¥–∂–µ—Ç—ã
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å

**–ü–ª–∞–Ω—ã:**
- –°–æ–∑–¥–∞—Ç—å –ø–ª–∞–Ω –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è
- –ü–æ–∫–∞–∑–∞—Ç—å –ø–ª–∞–Ω—ã
- –î–æ–±–∞–≤–∏—Ç—å –≤–∑–Ω–æ—Å

**–ó–∞–º–µ—Ç–∫–∏:**
- –°–æ–∑–¥–∞—Ç—å/—É–¥–∞–ª–∏—Ç—å –∑–∞–º–µ—Ç–∫—É
- –ü–æ–∫–∞–∑–∞—Ç—å –∑–∞–º–µ—Ç–∫–∏

**–§–∏—Ç–Ω–µ—Å:**
- –î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É
- –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É

---

## 2Ô∏è‚É£ AI –°–æ–≤–µ—Ç–Ω–∏–∫ (AI Advisor)

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É ‚Üí –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
                                        ‚Üì
                    API /api/ai/advisor (Supabase)
                                        ‚Üì
                    –ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö (lib/ai/advisor)
                                        ‚Üì
                    –†–∞—Å—á—ë—Ç –º–µ—Ç—Ä–∏–∫ (—Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–µ –∑–¥–æ—Ä–æ–≤—å–µ)
                                        ‚Üì
                    –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —É—Ç–µ—á–µ–∫ –¥–µ–Ω–µ–≥
                                        ‚Üì
                    –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –∏–¥–µ–∞–ª—å–Ω—ã–º –±—é–¥–∂–µ—Ç–æ–º
                                        ‚Üì
                    –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π (OpenAI)
                                        ‚Üì
                    –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞–Ω–∞ –¥–µ–π—Å—Ç–≤–∏–π
                                        ‚Üì
                    –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
```

### –ü—Ä–æ—Ü–µ—Å—Å –∞–Ω–∞–ª–∏–∑–∞

1. **–°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö** (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 3 –º–µ—Å—è—Ü–∞)
   - –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (–¥–æ—Ö–æ–¥/—Ä–∞—Å—Ö–æ–¥)
   - –°—á–µ—Ç–∞ (–¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ —Ñ–æ–Ω–¥–∞)
   - –ë—é–¥–∂–µ—Ç—ã (–¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è)

2. **–†–∞—Å—á—ë—Ç –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π**
   - –°—Ä–µ–¥–Ω–µ–º–µ—Å—è—á–Ω—ã–π –¥–æ—Ö–æ–¥
   - –°—Ä–µ–¥–Ω–µ–º–µ—Å—è—á–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã
   - –ï–∂–µ–º–µ—Å—è—á–Ω—ã–µ —Å–±–µ—Ä–µ–∂–µ–Ω–∏—è
   - –†–µ–∑–µ—Ä–≤–Ω—ã–π —Ñ–æ–Ω–¥ (—Å—É–º–º–∞ –Ω–∞ —Å—á–µ—Ç–∞—Ö)

3. **–ê–Ω–∞–ª–∏–∑ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –∑–¥–æ—Ä–æ–≤—å—è**
   - **Savings Rate** - –ø—Ä–æ—Ü–µ–Ω—Ç —Å–±–µ—Ä–µ–∂–µ–Ω–∏–π
   - **Expense Stability** - —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —Ä–∞—Å—Ö–æ–¥–æ–≤
   - **Budget Adherence** - —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –±—é–¥–∂–µ—Ç—É
   - **Debt Management** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ–ª–≥–∞–º–∏
   - **Emergency Fund** - –Ω–∞–ª–∏—á–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ —Ñ–æ–Ω–¥–∞
   - **Overall Score** - –æ–±—â–∞—è –æ—Ü–µ–Ω–∫–∞ (0-100)

4. **–û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —É—Ç–µ—á–µ–∫ –¥–µ–Ω–µ–≥**
   - –ê–Ω–∞–ª–∏–∑ —Ä–∞—Å—Ö–æ–¥–æ–≤ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
   - –ü–æ–∏—Å–∫ –Ω–µ–æ–±—ã—á–Ω–æ –≤—ã—Å–æ–∫–∏—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤
   - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Å–æ–∫—Ä–∞—â–µ–Ω–∏—é

5. **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –∏–¥–µ–∞–ª—å–Ω—ã–º –±—é–¥–∂–µ—Ç–æ–º**
   - –ü—Ä–∞–≤–∏–ª–æ 50/30/20:
     - 50% - –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ä–∞—Å—Ö–æ–¥—ã (Needs)
     - 30% - –∂–µ–ª–∞–µ–º—ã–µ —Ä–∞—Å—Ö–æ–¥—ã (Wants)
     - 20% - —Å–±–µ—Ä–µ–∂–µ–Ω–∏—è (Savings)
   - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

6. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π**
   - OpenAI –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ
   - –°–æ–∑–¥–∞—ë—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Å–æ–≤–µ—Ç—ã
   - –†–∞—Å—Å—Ç–∞–≤–ª—è–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã

7. **–ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π**
   - –ü–æ—à–∞–≥–æ–≤—ã–µ —à–∞–≥–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è
   - –°—Ä–æ–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
   - –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è

- üìä **–û—Ü–µ–Ω–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è** - –≤–∏–∑—É–∞–ª—å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ (A, B, C, D, F)
- üí∞ **–£—Ç–µ—á–∫–∏ –¥–µ–Ω–µ–≥** - –≥–¥–µ —É—Ö–æ–¥—è—Ç –¥–µ–Ω—å–≥–∏
- üìà **–ò–¥–µ–∞–ª—å–Ω—ã–π –±—é–¥–∂–µ—Ç** - –∫–∞–∫ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–æ
- üí° **–°–æ–≤–µ—Ç—ã** - –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- üìã **–ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π** - —á—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ

---

## 3Ô∏è‚É£ AI –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ (AI Analytics)

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É ‚Üí –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
                                        ‚Üì
                    API /api/ai/analytics (Supabase)
                                        ‚Üì
                    –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö (90 –¥–Ω–µ–π)
                                        ‚Üì
                    –†–∞—Å—á—ë—Ç –º–µ—Ç—Ä–∏–∫
                                        ‚Üì
                    OpenAI –∞–Ω–∞–ª–∏–∑ (generateText)
                                        ‚Üì
                    –ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ (ML –º–æ–¥–µ–ª—å)
                                        ‚Üì
                    –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∞–Ω–æ–º–∞–ª–∏–π
                                        ‚Üì
                    –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–Ω—Å–∞–π—Ç–æ–≤
                                        ‚Üì
                    –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
```

### –ü—Ä–æ—Ü–µ—Å—Å –∞–Ω–∞–ª–∏–∑–∞

1. **–°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö** (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 90 –¥–Ω–µ–π)
   - –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (—Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏)
   - –ë—é–¥–∂–µ—Ç—ã
   - –ü–ª–∞–Ω—ã

2. **–†–∞—Å—á—ë—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏**
   - –û–±—â–∏–π –¥–æ—Ö–æ–¥
   - –û–±—â–∏–µ —Ä–∞—Å—Ö–æ–¥—ã
   - –ë–∞–ª–∞–Ω—Å
   - –ü—Ä–æ—Ü–µ–Ω—Ç —Å–±–µ—Ä–µ–∂–µ–Ω–∏–π

3. **–ê–Ω–∞–ª–∏–∑ —Ä–∞—Å—Ö–æ–¥–æ–≤**
   - –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
   - –†–∞—Å—á—ë—Ç –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤
   - –í—ã—è–≤–ª–µ–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π —Ä–∞—Å—Ö–æ–¥–æ–≤

4. **OpenAI –∞–Ω–∞–ª–∏–∑**
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `generateText()` –∏–∑ `ai` –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
   - –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω—ã —Ä–∞—Å—Ö–æ–¥–æ–≤
   - –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∏–Ω—Å–∞–π—Ç—ã –∏ —Å–æ–≤–µ—Ç—ã
   - –°–æ–∑–¥–∞—ë—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

5. **–ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ç—Ä–µ–Ω–¥—ã
   - –ü—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç –¥–æ—Ö–æ–¥/—Ä–∞—Å—Ö–æ–¥—ã –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–µ –º–µ—Å—è—Ü—ã
   - –£–∫–∞–∑—ã–≤–∞–µ—Ç —É—Ä–æ–≤–µ–Ω—å —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏

6. **–û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∞–Ω–æ–º–∞–ª–∏–π**
   - –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–µ —Ä–∞—Å—Ö–æ–¥—ã —Å–æ —Å—Ä–µ–¥–Ω–∏–º–∏
   - –í—ã—è–≤–ª—è–µ—Ç –Ω–µ–æ–±—ã—á–Ω—ã–µ —Ç—Ä–∞—Ç—ã
   - –ö–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –ø–æ —Å–µ—Ä—å—ë–∑–Ω–æ—Å—Ç–∏ (low/medium/high)

### –ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è

- üìä **–û—Ü–µ–Ω–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è** - —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- üìà **–¢—Ä–µ–Ω–¥—ã** - –∫–∞–∫ –º–µ–Ω—è–ª–∏—Å—å –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏
- üí° **–ò–Ω—Å–∞–π—Ç—ã** - –∫–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã
- üîÆ **–ü—Ä–æ–≥–Ω–æ–∑** - –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–µ –º–µ—Å—è—Ü—ã
- ‚ö†Ô∏è **–ê–Ω–æ–º–∞–ª–∏–∏** - –Ω–µ–æ–±—ã—á–Ω—ã–µ —Ç—Ä–∞—Ç—ã
- üí¨ **–°–æ–≤–µ—Ç—ã** - —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –æ—Ç AI

---

## üß† –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–µ–π—Ä–æ—Å–µ—Ç–∏

### OpenAI API

**–ú–æ–¥–µ–ª–∏:**
- `gpt-4o-mini` - –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ (—Å–æ–≤–µ—Ç–Ω–∏–∫, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞)
- `gpt-4o` - –¥–ª—è —Å–ª–æ–∂–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
- `o1-mini` - –¥–ª—è reasoning –∑–∞–¥–∞—á

**–ú–µ—Ç–æ–¥—ã:**
- **Function Calling** - –¥–ª—è AI —á–∞—Ç–∞ (–≤—ã–∑–æ–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤)
- **generateText()** - –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ (–∞–Ω–∞–ª–∏–∑ —Ç–µ–∫—Å—Ç–∞)
- **Embeddings** - –¥–ª—è –ø–æ–∏—Å–∫–∞ (text-embedding-3-small)

### –ü—Ä–æ—Ü–µ—Å—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏

1. **–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞**
   - –°–±–æ—Ä —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
   - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ç–µ–∫—Å—Ç
   - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π

2. **–û—Ç–ø—Ä–∞–≤–∫–∞ –≤ OpenAI**
   - –ü–µ—Ä–µ–¥–∞—á–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏ –≤–æ–ø—Ä–æ—Å–∞
   - –£–∫–∞–∑–∞–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (–¥–ª—è —á–∞—Ç–∞)
   - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (temperature, max_tokens)

3. **–ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞**
   - OpenAI –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç
   - –í—ã–±–∏—Ä–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (–µ—Å–ª–∏ –Ω—É–∂–Ω—ã)
   - –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç

4. **–û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞**
   - –ü–∞—Ä—Å–∏–Ω–≥ –æ—Ç–≤–µ—Ç–∞
   - –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
   - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### RLS (Row Level Security)
- –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –ë–î –ø—Ä–æ–≤–µ—Ä—è—é—Ç `user_id`
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ
- Admin –∫–ª–∏–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è —Å–ª—É–∂–µ–±–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### API Endpoints
- –í—Å–µ endpoints —Ç—Ä–µ–±—É—é—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∞ `auth.getUser()`
- –í–æ–∑–≤—Ä–∞—Ç 401 –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω

### –õ–∏–º–∏—Ç—ã
- –ú–∞–∫—Å–∏–º—É–º 30 —Å–µ–∫—É–Ω–¥ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
- –ú–∞–∫—Å–∏–º—É–º 200 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
- –õ–∏–º–∏—Ç—ã OpenAI API (–ø–æ –ø–ª–∞–Ω—É)

---

## üìä –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### AI –ß–∞—Ç
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: "–ü–æ–∫–∞–∂–∏ –º–æ–∏ –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏"
‚Üí OpenAI –≤—ã–∑—ã–≤–∞–µ—Ç handleAIGetTransactions
‚Üí –ü–æ–ª—É—á–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ 10 —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
‚Üí –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –∫—Ä–∞—Å–∏–≤–æ
‚Üí –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
```

### AI –°–æ–≤–µ—Ç–Ω–∏–∫
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç /ai-advisor
‚Üí –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –∑–∞ 3 –º–µ—Å—è—Ü–∞
‚Üí –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –æ—Ü–µ–Ω–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, 72/100)
‚Üí –í—ã—è–≤–ª—è—é—Ç—Å—è —É—Ç–µ—á–∫–∏ –¥–µ–Ω–µ–≥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –Ω–∞ –µ–¥—É)
‚Üí –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç—Å—è —Å –∏–¥–µ–∞–ª—å–Ω—ã–º –±—é–¥–∂–µ—Ç–æ–º
‚Üí OpenAI –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç 5 —Å–æ–≤–µ—Ç–æ–≤
‚Üí –°–æ–∑–¥–∞—ë—Ç—Å—è –ø–ª–∞–Ω –∏–∑ 6 —à–∞–≥–æ–≤ –Ω–∞ 3 –º–µ—Å—è—Ü–∞
```

### AI –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç /ai-analytics
‚Üí –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –∑–∞ 90 –¥–Ω–µ–π
‚Üí –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
‚Üí OpenAI –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω—ã
‚Üí –ì–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∏–Ω—Å–∞–π—Ç—ã (3-5 —à—Ç—É–∫)
‚Üí –°–æ–∑–¥–∞—ë—Ç—Å—è –ø—Ä–æ–≥–Ω–æ–∑ –Ω–∞ 3 –º–µ—Å—è—Ü–∞
‚Üí –í—ã—è–≤–ª—è—é—Ç—Å—è –∞–Ω–æ–º–∞–ª–∏–∏
‚Üí –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Å–æ–≤–µ—Ç—ã
```

---

## üöÄ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö (Promise.all)
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (–≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ)
- Streaming –æ—Ç–≤–µ—Ç–æ–≤ (–¥–ª—è —á–∞—Ç–∞)
- Edge Runtime –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ (–±—ã—Å—Ç—Ä–µ–µ)

### –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞
- **AI –ß–∞—Ç:** 2-5 —Å–µ–∫ (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç OpenAI)
- **AI –°–æ–≤–µ—Ç–Ω–∏–∫:** 3-8 —Å–µ–∫ (–∞–Ω–∞–ª–∏–∑ + OpenAI)
- **AI –ê–Ω–∞–ª–∏—Ç–∏–∫–∞:** 5-10 —Å–µ–∫ (—Å–ª–æ–∂–Ω—ã–π –∞–Ω–∞–ª–∏–∑)

---

## üìö –§–∞–π–ª—ã –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

### Frontend
- `app/(protected)/ai-chat/Chat.tsx` - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —á–∞—Ç–∞
- `app/(protected)/ai-advisor/AIAdvisorClient.tsx` - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å–æ–≤–µ—Ç–Ω–∏–∫–∞
- `components/ai-analytics/AIAnalyticsContent.tsx` - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∞–Ω–∞–ª–∏—Ç–∏–∫–∏

### Backend
- `app/api/ai/chat/route.ts` - API —á–∞—Ç–∞
- `app/api/ai/advisor/route.ts` - API —Å–æ–≤–µ—Ç–Ω–∏–∫–∞
- `app/api/ai/analytics/route.ts` - API –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
- `lib/ai/tool-handlers.ts` - 44 —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —á–∞—Ç–∞
- `lib/ai/advisor.ts` - –ª–æ–≥–∏–∫–∞ –∞–Ω–∞–ª–∏–∑–∞ —Å–æ–≤–µ—Ç–Ω–∏–∫–∞
- `lib/ai/openai-client.ts` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è OpenAI

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- `lib/ai/models.ts` - —Å–ø–∏—Å–æ–∫ –º–æ–¥–µ–ª–µ–π
- `lib/ai/prompts.ts` - —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã
- `.env.local` - OPENAI_API_KEY

---

## üéØ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

FinApp –∏—Å–ø–æ–ª—å–∑—É–µ—Ç OpenAI –¥–ª—è —Ç—Ä—ë—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π:

1. **AI –ß–∞—Ç** - –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ —Å 44 –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏
2. **AI –°–æ–≤–µ—Ç–Ω–∏–∫** - –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑
3. **AI –ê–Ω–∞–ª–∏—Ç–∏–∫–∞** - –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∞–Ω–æ–º–∞–ª–∏–π

–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ Supabase –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞ –Ω–µ–π—Ä–æ—Å–µ—Ç—å—é.

# üéØ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π

**–î–∞—Ç–∞:** 2025-10-20  
**–í–µ—Ä—Å–∏—è:** 1.0

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π —á–µ—Ä–µ–∑ —Ç—Ä–∏–≥–≥–µ—Ä—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.

---

## üöÄ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### **–¢—Ä–∏–≥–≥–µ—Ä—ã –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î:**

–ü—Ä–∏ –∫–∞–∂–¥–æ–º –¥–µ–π—Å—Ç–≤–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Å–æ–∑–¥–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, –±—é–¥–∂–µ—Ç–∞, –ø–ª–∞–Ω–∞) –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. **–ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è** –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —É—Å–ª–æ–≤–∏–π –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
2. **–†–∞–∑–±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è** –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏
3. **–î–æ–±–∞–≤–ª—è–µ—Ç—Å—è** XP (–æ–ø—ã—Ç)
4. **–û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è** –ø—Ä–æ–≥—Ä–µ—Å—Å —á–∞—Å—Ç–∏—á–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
5. **–û–±–Ω–æ–≤–ª—è—é—Ç—Å—è** —Å—Ç—Ä–∏–∫–∏ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

---

## üìä –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### **1. –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏** ‚úÖ

**–¢—Ä–∏–≥–≥–µ—Ä:** `trigger_check_transaction_achievements`  
**–°—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç:** –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (`INSERT`)

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è:**
- ‚úÖ **first_transaction** (1 —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è) ‚Üí +10 XP
- ‚úÖ **transactions_10** (10 —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π) ‚Üí +20 XP
- ‚úÖ **transactions_50** (50 —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π) ‚Üí +50 XP
- ‚úÖ **transactions_100** (100 —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π) ‚Üí +100 XP
- ‚úÖ **transactions_500** (500 —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π) ‚Üí +500 XP

**–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ:**
- ‚úÖ **early_bird** (—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –¥–æ 8:00 UTC) ‚Üí +10 XP
- ‚úÖ **night_owl** (—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –ø–æ—Å–ª–µ 23:00 UTC) ‚Üí +10 XP

**–ë–æ–Ω—É—Å—ã:**
- +1 XP –∑–∞ –ª—é–±—É—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—á—ë—Ç—á–∏–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –≤ `user_levels`

---

### **2. –ë—é–¥–∂–µ—Ç—ã** ‚úÖ

**–¢—Ä–∏–≥–≥–µ—Ä:** `trigger_check_budget_achievements`  
**–°—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç:** –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –±—é–¥–∂–µ—Ç–∞ (`INSERT`)

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è:**
- ‚úÖ **first_budget** (1 –±—é–¥–∂–µ—Ç) ‚Üí +15 XP

**–ë–æ–Ω—É—Å—ã:**
- +5 XP –∑–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –±—é–¥–∂–µ—Ç–∞

---

### **3. –ü–ª–∞–Ω—ã (—Ü–µ–ª–∏ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è)** ‚úÖ

**–¢—Ä–∏–≥–≥–µ—Ä:** `trigger_check_plan_achievements`  
**–°—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç:** –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –ø–ª–∞–Ω–∞ (`INSERT`)

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è:**
- ‚úÖ **first_savings_goal** (1 –ø–ª–∞–Ω) ‚Üí +15 XP

**–ë–æ–Ω—É—Å—ã:**
- +5 XP –∑–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞–Ω–∞

---

### **4. –î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ —Ü–µ–ª–∏** ‚úÖ

**–¢—Ä–∏–≥–≥–µ—Ä:** `trigger_check_goal_achieved`  
**–°—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç:** –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –ø–ª–∞–Ω–∞ (`UPDATE`)

**–£—Å–ª–æ–≤–∏–µ:** `accumulated >= target`

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è:**
- ‚úÖ **goal_achieved** (–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–ª–∞–Ω–∞ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è) ‚Üí +100 XP

---

### **5. –°—Ç—Ä–∏–∫–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏** ‚úÖ

**–¢—Ä–∏–≥–≥–µ—Ä:** `trigger_update_transaction_streak`  
**–°—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç:** –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (`INSERT`)

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –±—ã–ª–∞ –ª–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤—á–µ—Ä–∞
- –ï—Å–ª–∏ –¥–∞ ‚Üí —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Å—Ç—Ä–∏–∫ –Ω–∞ +1
- –ï—Å–ª–∏ –Ω–µ—Ç ‚Üí —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç —Å—Ç—Ä–∏–∫
- –û–±–Ω–æ–≤–ª—è–µ—Ç —Ä–µ–∫–æ—Ä–¥ (`longest_streak`)
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –ø–æ —Å—Ç—Ä–∏–∫–∞–º

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è:**
- ‚úÖ **streak_7** (7 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥) ‚Üí +30 XP
- ‚úÖ **streak_30** (30 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥) ‚Üí +100 XP
- ‚úÖ **streak_90** (90 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥) ‚Üí +300 XP
- ‚úÖ **streak_365** (365 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥) ‚Üí +1000 XP

**–ë–æ–Ω—É—Å—ã:**
- +2 XP –∑–∞ –µ–∂–µ–¥–Ω–µ–≤–Ω—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `total_days_active` –≤ `user_levels`

---

## üîß –§—É–Ω–∫—Ü–∏–∏ –ë–î

### **check_count_achievement(user_id, achievement_id, current_count)**

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∏ —Ä–∞–∑–±–ª–æ–∫–∏—Ä—É–µ—Ç –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É.

```sql
SELECT check_count_achievement(
  'user-uuid',
  'first_transaction',
  10
);
```

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `TRUE` –µ—Å–ª–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ

**–õ–æ–≥–∏–∫–∞:**
1. –ü–æ–ª—É—á–∞–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ (`requirement_value`)
2. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–µ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ –ª–∏ —É–∂–µ
3. –ï—Å–ª–∏ `current_count >= requirement` ‚Üí —Ä–∞–∑–±–ª–æ–∫–∏—Ä—É–µ—Ç
4. –ò–Ω–∞—á–µ ‚Üí –æ–±–Ω–æ–≤–ª—è–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å

---

### **add_user_xp(user_id, xp_amount)**

–î–æ–±–∞–≤–ª—è–µ—Ç XP –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.

```sql
SELECT add_user_xp('user-uuid', 50);
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
1. –°–æ–∑–¥–∞—ë—Ç –∑–∞–ø–∏—Å—å –≤ `user_levels` –µ—Å–ª–∏ –Ω–µ—Ç
2. –î–æ–±–∞–≤–ª—è–µ—Ç XP –∫ —Ç–µ–∫—É—â–µ–º—É –∑–Ω–∞—á–µ–Ω–∏—é
3. –¢—Ä–∏–≥–≥–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç —É—Ä–æ–≤–µ–Ω—å

---

### **update_daily_streak(user_id, streak_type)**

–û–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç—Ä–∏–∫ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏.

```sql
SELECT update_daily_streak(
  'user-uuid',
  'daily_transaction'
);
```

**–¢–∏–ø—ã —Å—Ç—Ä–∏–∫–æ–≤:**
- `daily_transaction` - –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- `daily_login` - –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –≤—Ö–æ–¥—ã (–ø–æ–∫–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
- `budget_check` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –±—é–¥–∂–µ—Ç–∞ (–ø–æ–∫–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

---

## üìà –ü—Ä–æ–≥—Ä–µ—Å—Å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π

### **–ü–æ–ª–Ω–æ—Å—Ç—å—é –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ:**
```sql
SELECT * FROM user_achievements
WHERE user_id = 'user-uuid'
AND progress >= (
  SELECT requirement_value 
  FROM achievements_definitions 
  WHERE id = user_achievements.achievement_id
);
```

### **–ß–∞—Å—Ç–∏—á–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ:**
```sql
SELECT 
  ua.achievement_id,
  ua.progress,
  ad.requirement_value,
  ROUND((ua.progress::FLOAT / ad.requirement_value) * 100, 2) as percentage
FROM user_achievements ua
JOIN achievements_definitions ad ON ad.id = ua.achievement_id
WHERE ua.user_id = 'user-uuid'
AND ua.progress < ad.requirement_value;
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### **1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π –ø–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º:**

```sql
-- –°–æ–∑–¥–∞–π—Ç–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
INSERT INTO transactions (user_id, account_id, amount, currency, direction, occurred_at)
VALUES ('your-user-id', 'account-id', 10000, 'RUB', 'expense', NOW());

-- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
SELECT * FROM user_achievements WHERE user_id = 'your-user-id';

-- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ XP
SELECT * FROM user_levels WHERE user_id = 'your-user-id';
```

### **2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä–∏–∫–æ–≤:**

```sql
-- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ–∫—É—â–∏–π —Å—Ç—Ä–∏–∫
SELECT * FROM activity_streaks 
WHERE user_id = 'your-user-id' 
AND streak_type = 'daily_transaction';
```

### **3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π:**

```sql
-- –°–æ–∑–¥–∞–π—Ç–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é —Ä–∞–Ω–æ —É—Ç—Ä–æ–º (–¥–æ 8:00 UTC)
INSERT INTO transactions (user_id, account_id, amount, currency, direction, occurred_at)
VALUES ('your-user-id', 'account-id', 10000, 'RUB', 'expense', '2025-10-20 07:30:00+00');

-- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ early_bird
SELECT * FROM user_achievements 
WHERE user_id = 'your-user-id' 
AND achievement_id = 'early_bird';
```

---

## üêõ –û—Ç–ª–∞–¥–∫–∞

### **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤:**

```sql
-- –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã –Ω–∞ —Ç–∞–±–ª–∏—Ü–µ transactions
SELECT 
  trigger_name,
  event_manipulation,
  action_statement
FROM information_schema.triggers
WHERE event_object_table = 'transactions';
```

### **–õ–æ–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**

–¢—Ä–∏–≥–≥–µ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ, –æ—à–∏–±–∫–∏ –±—É–¥—É—Ç –≤ –ª–æ–≥–∞—Ö Supabase.

### **–í—Ä—É—á–Ω—É—é –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É:**

```sql
-- –ü–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –ø–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
DO $$
DECLARE
  v_count INTEGER;
BEGIN
  SELECT COUNT(*) INTO v_count
  FROM transactions
  WHERE user_id = 'your-user-id';
  
  PERFORM check_count_achievement('your-user-id', 'first_transaction', v_count);
  PERFORM check_count_achievement('your-user-id', 'transactions_10', v_count);
  -- –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ...
END $$;
```

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### **–û—Ç–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫—É (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ):**

```sql
ALTER TABLE transactions DISABLE TRIGGER trigger_check_transaction_achievements;
ALTER TABLE budgets DISABLE TRIGGER trigger_check_budget_achievements;
ALTER TABLE plans DISABLE TRIGGER trigger_check_plan_achievements;
ALTER TABLE plans DISABLE TRIGGER trigger_check_goal_achieved;
ALTER TABLE transactions DISABLE TRIGGER trigger_update_transaction_streak;
```

### **–í–∫–ª—é—á–∏—Ç—å –æ–±—Ä–∞—Ç–Ω–æ:**

```sql
ALTER TABLE transactions ENABLE TRIGGER trigger_check_transaction_achievements;
ALTER TABLE budgets ENABLE TRIGGER trigger_check_budget_achievements;
ALTER TABLE plans ENABLE TRIGGER trigger_check_plan_achievements;
ALTER TABLE plans ENABLE TRIGGER trigger_check_goal_achieved;
ALTER TABLE transactions ENABLE TRIGGER trigger_update_transaction_streak;
```

---

## üéØ –ß—Ç–æ –ù–ï –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

–≠—Ç–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ç—Ä–µ–±—É—é—Ç —Ä—É—á–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏–ª–∏ CRON –∑–∞–¥–∞—á–∏:

- ‚ùå **saved_10k, saved_100k** - —Ç—Ä–µ–±—É–µ—Ç –ø–æ–¥—Å—á—ë—Ç –±–∞–ª–∞–Ω—Å–∞ —Å—á–µ—Ç–æ–≤
- ‚ùå **budget_master** - —Ç—Ä–µ–±—É–µ—Ç –∞–Ω–∞–ª–∏–∑ —Å–æ–±–ª—é–¥–µ–Ω–∏—è –±—é–¥–∂–µ—Ç–∞ –∑–∞ 3 –º–µ—Å—è—Ü–∞
- ‚ùå **weekend_warrior** - —Ç—Ä–µ–±—É–µ—Ç –ø–æ–¥—Å—á—ë—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –≤ –≤—ã—Ö–æ–¥–Ω—ã–µ
- ‚ùå **perfectionist** - —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫—É –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ—Å—Ç–∏ –ø–æ–ª–µ–π

–≠—Ç–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑:
1. **CRON –∑–∞–¥–∞—á—É** (–µ–∂–µ–¥–Ω–µ–≤–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞)
2. **API endpoint** (–ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ –∑–∞–ø—Ä–æ—Å—É)
3. **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã**

---

## üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### **–í–ª–∏—è–Ω–∏–µ –Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç—å:**

–¢—Ä–∏–≥–≥–µ—Ä—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è **—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ** –ø—Ä–∏ INSERT/UPDATE:
- –î–æ–±–∞–≤–ª—è—é—Ç ~50-100ms –∫ –æ–ø–µ—Ä–∞—Ü–∏–∏
- –ù–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Å–ª—É—á–∞–µ–≤
- –í—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ —Ç–æ–π –∂–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

### **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:**

1. ‚úÖ –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∏–Ω–¥–µ–∫—Å—ã –Ω–∞ `user_id`
2. ‚úÖ –ú–∏–Ω–∏–º—É–º –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Ç—Ä–∏–≥–≥–µ—Ä–∞—Ö
3. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ "—É–∂–µ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ" –¥–æ INSERT
4. ‚úÖ –û–¥–∏–Ω —Ç—Ä–∏–≥–≥–µ—Ä –Ω–∞ —Ç–∞–±–ª–∏—Ü—É

---

## üîÆ –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

1. **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞** —á–µ—Ä–µ–∑ –æ—á–µ—Ä–µ–¥—å
2. **–ü–∞–∫–µ—Ç–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞** –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ CSV
3. **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** –ø—Ä–∏ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–µ
4. **–ê–Ω–∏–º–∞—Ü–∏–∏** —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –≤ UI
5. **–ó–≤—É–∫–∏** –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è

---

## üìö –°–º. —Ç–∞–∫–∂–µ

- `docs/GAMIFICATION.md` - –æ–±—â–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –≥–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏–∏
- `db/migrations/020_gamification.sql` - —Ç–∞–±–ª–∏—Ü—ã
- `db/migrations/021_achievement_triggers.sql` - —Ç—Ä–∏–≥–≥–µ—Ä—ã

---

**–ê–≤—Ç–æ—Ä:** AI Assistant  
**–î–∞—Ç–∞:** 2025-10-20  
**–í–µ—Ä—Å–∏—è:** 1.0
